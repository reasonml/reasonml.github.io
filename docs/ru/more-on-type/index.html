<!DOCTYPE html><html lang="ru"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Больше о типах · Reason</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;аргументы-типа&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#аргументы-типа&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Аргументы типа!&lt;/h2&gt;
"/><meta name="docsearch:language" content="ru"/><meta property="og:title" content="Больше о типах · Reason"/><meta property="og:type" content="website"/><meta property="og:url" content="https://reasonml.github.io/"/><meta property="og:description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;аргументы-типа&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#аргументы-типа&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Аргументы типа!&lt;/h2&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/icon_50.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://reasonml.github.io/blog/atom.xml" title="Reason Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://reasonml.github.io/blog/feed.xml" title="Reason Blog RSS Feed"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/ru"><img class="logo" src="/img/dummy.svg" alt="Reason"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/ru/what-and-why" target="_self">Документация</a></li><li class=""><a href="/ru/try" target="_self">Попробовать</a></li><li class=""><a href="/api/index" target="_self">API</a></li><li class=""><a href="/docs/ru/community" target="_self">Сообщество</a></li><li class=""><a href="/blog/" target="_self">Блог</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>Русский</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/ja/more-on-type">日本語</a></li><li><a href="/docs/en/more-on-type">English</a></li><li><a href="/docs/de/more-on-type">Deutsch</a></li><li><a href="/docs/es-ES/more-on-type">Español</a></li><li><a href="/docs/fr/more-on-type">Français</a></li><li><a href="/docs/ko/more-on-type">한국어</a></li><li><a href="/docs/pt-BR/more-on-type">Português (Brasil)</a></li><li><a href="/docs/uk/more-on-type">Українська</a></li><li><a href="/docs/zh-CN/more-on-type">中文</a></li><li><a href="/docs/zh-TW/more-on-type">繁體中文</a></li><li><a href="https://crowdin.com/project/reason" target="_blank" rel="noreferrer noopener">Помочь с переводом</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/facebook/reason" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Основы языка</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Введение</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ru/what-and-why">Что и зачем</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Установка</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ru/installation">Установка</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/editor-plugins">Плагины для редакторов и IDE</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/extra-goodies">Дополнительные инструменты</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Основы языка</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ru/overview">Обзор</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/let-binding">Связывание с использованием let</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/type">Типы!</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/string-and-char">Строки и символы</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/boolean">Логическое значение</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/integer-and-float">Integer и Float</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/tuple">Кортежи</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/record">Запись</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/variant">Variant!</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/null-undefined-option">Null, Undefined и Option</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/list-and-array">Список и массив</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/function">Функции</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/if-else">If-Else</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/pipe-first">Pipe First</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/ru/more-on-type">Больше о типах</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/destructuring">Деструктуризация</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/pattern-matching">Паттерн-матчинг!</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/mutation">Мутации</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/imperative-loops">Императивные циклы</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/jsx">JSX</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/external">External</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/exception">Исключения</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/object">Объекты</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/module">Модули</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/promise">Promise</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">JavaScript</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ru/interop">Взаимодействие с JavaScript</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/syntax-cheatsheet">Шпаргалка по синтаксису</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/libraries">Библиотеки</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/converting-from-js">Конвертация из JS</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Native</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ru/native">Native</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/quickstart-ocaml">Native Quickstart</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/convert-from-ocaml">Конвертация из OCaml</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Дополнительно</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ru/faq">Часто задаваемые вопросы (FAQ)</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/comparison-to-ocaml">Сравнение с OCaml</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/newcomer-examples">Примеры для начинающих</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/project-structure">Структура проекта</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/reason/ru" target="_blank" rel="noreferrer noopener">Translate</a><h1 class="postHeaderTitle">Больше о типах</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="аргументы-типа"></a><a href="#аргументы-типа" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Аргументы типа!</h2>
<p>Типы могут принимать параметры, как шаблоны в других языках. Это как если бы тип был функцией, которая принимает аргументы и возвращает новый тип! Параметр <strong>обязан</strong> начинаться с <code>'</code>.</p>
<p>The use-case of a parameterized type is to kill duplications. Before:</p>
<pre><code class="hljs css language-reason"><span class="hljs-comment">/* Кортеж из трех элементов */</span>
<span class="hljs-keyword">type</span> intCoordinates = (int, int, int);
<span class="hljs-keyword">type</span> floatCoordinates = (float, float, float);

<span class="hljs-keyword">let</span> buddy: intCoordinates = (<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">20</span>);
</code></pre>
<p>После:</p>
<pre><code class="hljs css language-reason"><span class="hljs-keyword">type</span> coordinates('a) = ('a, 'a, 'a);

<span class="hljs-comment">/* применить "функцию-тип" и вернуть тип (int, int, int) */</span>
<span class="hljs-keyword">type</span> intCoordinatesAlias = coordinates(int);

<span class="hljs-keyword">let</span> buddy: intCoordinatesAlias = (<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">20</span>);

<span class="hljs-comment">/* можно записать одной строкой */</span>
<span class="hljs-keyword">let</span> buddy: coordinates(float) = (<span class="hljs-number">10.5</span>, <span class="hljs-number">20.5</span>, <span class="hljs-number">20.5</span>);
</code></pre>
<p>На практике типы будут выведены. Потому более простая версия:</p>
<pre><code class="hljs css language-reason"><span class="hljs-keyword">let</span> buddy = (<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">20</span>);
</code></pre>
<p>Система типов поймет, что это <code>(int, int, int)</code>. Ничего более писать не нужно.</p>
<p>Типы с аргументами используются повсеместно.</p>
<pre><code class="hljs css language-reason"><span class="hljs-comment">/* выводится как `list(string)` */</span>
<span class="hljs-keyword">let</span> greetings = <span class="hljs-literal">[</span><span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>, <span class="hljs-string">"how are you"</span><span class="hljs-literal">]</span>;
</code></pre>
<p>If types didn't accept parameters (ie, if we didn't have &quot;type functions&quot;), the standard library would need to define the types <code>listOfString</code>, <code>listOfInt</code>, <code>listOfTuplesOfInt</code>, etc.</p>
<p>Типы могут принимать несколько аргументов и комбинироваться.</p>
<pre><code class="hljs css language-reason"><span class="hljs-keyword">type</span> result('a, 'b) =
  | <span class="hljs-constructor">Ok</span>('a)
  | <span class="hljs-constructor">Error</span>('b);

<span class="hljs-keyword">type</span> myPayload = {data: string};

<span class="hljs-keyword">type</span> myPayloadResults('errorType) = list(result(myPayload, 'errorType));

<span class="hljs-keyword">let</span> payloadResults: myPayloadResults(string) = <span class="hljs-literal">[</span>
  <span class="hljs-constructor">Ok</span>({data: <span class="hljs-string">"hi"</span>}),
  <span class="hljs-constructor">Ok</span>({data: <span class="hljs-string">"bye"</span>}),
  <span class="hljs-constructor">Error</span>(<span class="hljs-string">"Something wrong happened!"</span>)
<span class="hljs-literal">]</span>;
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="взаимно-рекурсивные-типы"></a><a href="#взаимно-рекурсивные-типы" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Взаимно рекурсивные типы</h2>
<p>Как и функции типы могут быть рекурсивными при помощи <code>and</code>:</p>
<pre><code class="hljs css language-reason"><span class="hljs-keyword">type</span> student = {taughtBy: teacher}
<span class="hljs-keyword">and</span> teacher = {students: list(student)};
</code></pre>
<p><strong>Note</strong> that there's no semicolon ending the first line and no <code>type</code> on the second line.</p>
<h2><a class="anchor" aria-hidden="true" id="дизайн-решения"></a><a href="#дизайн-решения" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Дизайн решения</h2>
<p>Система типов позволяющая типы с аргументами, по сути предоставляет функции для оперирования типами. <code>list(int)</code> это функция уровня типов <code>list</code>, которая принимает <code>int</code> тип, и возвращает новый тип, который можно использовать в других местах. В других языках такое называется &quot;generics&quot;. Например, <code>ArrayList&lt;Integer&gt;</code> в Java.</p>
<p><a href="https://en.wikipedia.org/wiki/Rule_of_least_power">Принцип наименьшей можности</a>применяются, когда вы просто &quot;пытаетесь заставить все работать&quot;. Если проблемная область позволяет, определенно выберите наименее абстрактное (наиболее конкретное) решение, чтобы решение было быстрее достигнуто и у него было меньше неустойчивых направлений, которые вам нужно было бы пройти. Например, предпочитайте типы над данными свободной формы, предпочитайте конфигурацию, управляемую данными, за счет завершения функций вызовов, предпочитайте вызовы функций над макросами, предпочитаете макросы над копированием кода. When you constrain your domain and power, things become easier to analyze. That is, <em>if</em> the domain is constrained enough to allow it.</p>
<p>When a type system is an all-encompassing aspect of your program, we need to make sure we leave enough power in order not to overly constrain your expressiveness; without &quot;type functions&quot;, you'd end up with quite a bit of boilerplate, e.g. hard-coded <code>listOfInt</code>, <code>listOfString</code>, <code>listOfArrayOfFloat</code>, their respective helper functions, etc. Однако, убедитесь, что не злоупотребляете этой фичей. Иногда это нормально — написать <em>немного</em> дублирующего кода, убирая необходимость в абстракциях. If anything, tasteful tradeoffs might show your pragmatism and judgement more than fancy types!</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/ru/pipe-first"><span class="arrow-prev">← </span><span>Pipe First</span></a><a class="docs-next button" href="/docs/ru/destructuring"><span>Деструктуризация</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#аргументы-типа">Аргументы типа!</a></li><li><a href="#взаимно-рекурсивные-типы">Взаимно рекурсивные типы</a></li><li><a href="#дизайн-решения">Дизайн решения</a></li></ul></nav></div><span><script src="/js/redirectBlog.js"></script><script src="/js/pjax-api.min.js"></script><script>window.foo = new Pjax({
          areas: [
            // try to use the first query.
            '.mainContainer, .docsNavContainer .toc .navWrapper, .onPageNav',
            // fallback
            'body'
          ],
          link: '.docsNavContainer:not(.docsSliderActive) a',
          update: {
            script: false,
          }
        });
        var languagesMenuItemCopy = document.getElementById("languages-menu");
        languagesMenuItemCopy.addEventListener("click", function(e){
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        });</script></span></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '966d1e412f67114a07dc0afe44b19b53',
                indexName: 'reason',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["lang:ru"]}
              });
            </script></body></html>